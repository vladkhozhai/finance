# Navigation Visual Guide

## Desktop Layout (â‰¥768px)

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ  [FinanceFlow]  Dashboard  Transactions  Budgets  ğŸ‘¤ Profile      [â• Add Transaction]  [User â–¼]  â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
```

**Components:**
- Logo: Brand identity
- 4 Navigation Links: Dashboard, Transactions, Budgets, Profile
- Quick Action Button: Large prominent "Add Transaction" button
- User Menu: Dropdown with logout

---

## Mobile Layout (<768px)

### Screen
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                â”‚
â”‚    Page Content                â”‚
â”‚                                â”‚
â”‚                                â”‚
â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Bottom Navigation Bar
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ“Š   â”‚   ğŸ’³   â”‚        â”‚   ğŸ¯   â”‚   ğŸ‘¤   â”‚
â”‚        â”‚        â”‚   â•   â”‚        â”‚        â”‚
â”‚Dashbrd â”‚ Trans  â”‚        â”‚ Budget â”‚Profile â”‚
â”‚        â”‚        â”‚  Add   â”‚        â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†‘
              Elevated FAB
              (56px circle)
```

**Components:**
- 4 Regular Tabs: Dashboard, Transactions, Budgets, Profile
- 1 Center FAB: Quick Action "Add Transaction" button

---

## Profile Page Structure

```
Profile & Settings
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Overview] [Payment Methods] [Categories] [Tags] [Preferences] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  Tab Content                                                    â”‚
â”‚                                                                 â”‚
â”‚  â€¢ Overview: User info, Quick links                            â”‚
â”‚  â€¢ Payment Methods: Link to /payment-methods                   â”‚
â”‚  â€¢ Categories: Link to /categories                             â”‚
â”‚  â€¢ Tags: Link to /tags                                         â”‚
â”‚  â€¢ Preferences: Theme, Language settings                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Navigation Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Main Navigation                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚              â”‚          â”‚           â”‚                â”‚
â”‚ Dashboardâ”‚ Transactions â”‚  Budgets â”‚  Profile  â”‚ Add Transactionâ”‚
â”‚    /     â”‚ /transactionsâ”‚ /budgets â”‚ /profile  â”‚   (Dialog)     â”‚
â”‚          â”‚              â”‚          â”‚           â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚         Profile Page Tabs                  â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚          â”‚          â”‚      â”‚    â”‚         â”‚
                    â”‚ Overview â”‚ Payment  â”‚ Cat. â”‚Tagsâ”‚ Pref.   â”‚
                    â”‚          â”‚ Methods  â”‚      â”‚    â”‚         â”‚
                    â”‚          â”‚          â”‚      â”‚    â”‚         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚        â”‚      â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”  â”Œâ”€â”€â”´â”€â”€â”€â” â”‚
                         â”‚             â”‚  â”‚      â”‚ â”‚
                   /payment-methods  /categories â”‚
                         â”‚             â”‚    /tagsâ”‚
                         â”‚             â”‚         â”‚
                    (Full Pages)   (Full Pages)  â”‚
                                              (Future)
```

---

## Quick Action Button States

### Desktop Button
```
Normal State:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•  Add Transaction â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Hover State:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•  Add Transaction â”‚  â† Slightly dimmed (opacity: 0.9)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Mobile FAB
```
Normal State:
      â•­â”€â”€â”€â”€â”€â•®
      â”‚  â•  â”‚  â† Elevated above nav (-16px)
      â•°â”€â”€â”€â”€â”€â•¯
       Add

Active/Pressed State:
      â•­â”€â”€â”€â”€â”€â•®
      â”‚  â•  â”‚  â† Scaled down (0.95)
      â•°â”€â”€â”€â”€â”€â•¯
       Add
```

---

## URL Structure

```
Domain/
â”œâ”€â”€ /                           â†’ Dashboard
â”œâ”€â”€ /transactions               â†’ Transactions List
â”œâ”€â”€ /budgets                    â†’ Budget Tracking
â”œâ”€â”€ /profile                    â†’ Profile & Settings (Overview tab)
â”‚   â”œâ”€â”€ ?tab=overview          â†’ Account Info (default)
â”‚   â”œâ”€â”€ ?tab=payment-methods   â†’ Payment Methods
â”‚   â”œâ”€â”€ ?tab=categories        â†’ Categories
â”‚   â”œâ”€â”€ ?tab=tags              â†’ Tags
â”‚   â””â”€â”€ ?tab=preferences       â†’ Preferences
â”‚
â””â”€â”€ Legacy Routes (Redirected):
    â”œâ”€â”€ /payment-methods       â†’ /profile?tab=payment-methods
    â”œâ”€â”€ /categories            â†’ /profile?tab=categories
    â””â”€â”€ /tags                  â†’ /profile?tab=tags
```

---

## Before vs After Comparison

### Desktop Navigation

**BEFORE (6 items):**
```
[Logo] [Dashboard] [Transactions] [Budgets] [Payment] [Categories] [Tags] [Userâ–¼]
```

**AFTER (4 items + Quick Action):**
```
[Logo] [Dashboard] [Transactions] [Budgets] [ğŸ‘¤Profile]   [â•Add Transaction] [Userâ–¼]
                                                           â†‘
                                              Quick Action Button
```

### Mobile Navigation

**BEFORE (6 tabs):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚Dashbrdâ”‚Trans â”‚Budgetâ”‚Paymt â”‚ Cat. â”‚ Tags â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

**AFTER (5 positions with FAB):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚Dashbrdâ”‚Trans â”‚      â”‚Budgetâ”‚Profleâ”‚
â”‚      â”‚      â”‚  â•  â”‚      â”‚      â”‚
â”‚      â”‚      â”‚ Add  â”‚      â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
                â†‘
           Elevated FAB
```

---

## Responsive Breakpoint Behavior

### At 767px (Mobile)
- Header navigation: **HIDDEN**
- Bottom navigation: **VISIBLE**
- Quick Action: **FAB style** (elevated circle)
- Content padding-bottom: **80px** (space for nav)

### At 768px+ (Desktop/Tablet)
- Header navigation: **VISIBLE**
- Bottom navigation: **HIDDEN**
- Quick Action: **Button style** (rectangular)
- Content padding-bottom: **0px**

```
Mobile (<768px)                Desktop (â‰¥768px)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                              â”Œâ”€ Header â”€â”€â”€â”€â”€â”
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚ Nav + Button  â”‚
â”‚               â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   Content     â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               â”‚            â”‚               â”‚
â”‚               â”‚            â”‚   Content     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚               â”‚
â”Œâ”€ Bottom Nav â”€â”            â”‚               â”‚
â”‚  [FAB]        â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Hierarchy

```
App Layout (dashboard)
â”œâ”€â”€ AppHeader (Desktop â‰¥768px)
â”‚   â”œâ”€â”€ Logo
â”‚   â”œâ”€â”€ Navigation Links (4)
â”‚   â”‚   â”œâ”€â”€ Dashboard
â”‚   â”‚   â”œâ”€â”€ Transactions
â”‚   â”‚   â”œâ”€â”€ Budgets
â”‚   â”‚   â””â”€â”€ Profile (with User icon)
â”‚   â”œâ”€â”€ QuickActionButton (variant="desktop")
â”‚   â””â”€â”€ UserMenu
â”‚
â”œâ”€â”€ Main Content Area
â”‚   â””â”€â”€ Page Content (with bottom padding on mobile)
â”‚
â””â”€â”€ MainNav (Mobile <768px)
    â”œâ”€â”€ NavItem: Dashboard
    â”œâ”€â”€ NavItem: Transactions
    â”œâ”€â”€ QuickActionButton (variant="mobile")
    â”œâ”€â”€ NavItem: Budgets
    â””â”€â”€ NavItem: Profile
```

---

## Color & Style Guide

### Desktop Quick Action Button
- **Background**: `bg-primary` (brand color)
- **Text**: `text-primary-foreground` (white/contrast)
- **Size**: `h-10` (40px height), `px-6` padding
- **Shadow**: `shadow`
- **Hover**: `opacity-90`

### Mobile Quick Action FAB
- **Shape**: `rounded-full` (perfect circle)
- **Size**: `h-14 w-14` (56px Ã— 56px)
- **Position**: `absolute -top-4` (-16px above nav)
- **Background**: `bg-primary`
- **Shadow**: `shadow-lg` (elevated appearance)
- **Icon Size**: `h-7 w-7` (28px)
- **Hover**: `opacity-90`
- **Active**: `scale-95` (press feedback)

### Navigation Items
- **Active**: `text-primary`, underline indicator
- **Inactive**: `text-muted-foreground`
- **Hover**: `text-primary`, `bg-accent`
- **Icon Size**: `h-5 w-5` (20px)

---

## User Journey Examples

### Create a Transaction (Desktop)
1. User clicks "Add Transaction" button in header
2. Dialog opens with transaction form
3. User fills form and submits
4. Dialog closes, page refreshes with new transaction

### Create a Transaction (Mobile)
1. User taps elevated FAB button in center of nav
2. Dialog opens with transaction form
3. User fills form and submits
4. Dialog closes, page refreshes with new transaction

### Access Categories (Legacy URL)
1. User visits `/categories` (old URL)
2. Middleware intercepts request
3. Redirects to `/profile?tab=categories`
4. Profile page opens with Categories tab active
5. User clicks "View Full Categories Page" button
6. Navigates to full `/categories` page

### Browse Settings
1. User clicks "Profile" in navigation
2. Profile page opens (Overview tab by default)
3. User sees account info and quick links
4. User clicks "Categories" tab or quick link
5. Categories tab content displays with link to full page
6. URL updates to `/profile?tab=categories`

---

## Accessibility Navigation Tree

```
Main Navigation (role="navigation" aria-label="Main navigation")
â”œâ”€â”€ Link: Dashboard (aria-current="page" when active)
â”œâ”€â”€ Link: Transactions
â”œâ”€â”€ Link: Budgets
â”œâ”€â”€ Link: Profile (with User icon, aria-hidden="true" on icon)
â”œâ”€â”€ Button: Add Transaction (type="button" aria-label="Add transaction")
â””â”€â”€ Menu: User Menu

Tab Navigation (role="tablist")
â”œâ”€â”€ Tab: Overview (role="tab" aria-selected="true/false")
â”œâ”€â”€ Tab: Payment Methods
â”œâ”€â”€ Tab: Categories
â”œâ”€â”€ Tab: Tags
â””â”€â”€ Tab: Preferences

Tab Panel (role="tabpanel" for each tab content)
```

---

## Key Design Principles

1. **Simplification**: Reduced from 6 to 4 main nav items
2. **Consolidation**: Settings grouped under Profile
3. **Prominence**: Quick Action button stands out visually
4. **Consistency**: Icons used consistently across mobile/desktop
5. **Accessibility**: Full keyboard navigation and screen reader support
6. **Progressive Enhancement**: FAB only on mobile where it's effective
7. **Backward Compatibility**: Legacy URLs redirect seamlessly

---

## Implementation Files Reference

### Core Navigation
- `/src/components/layout/app-header.tsx` - Desktop header (80 lines)
- `/src/components/layout/main-nav.tsx` - Mobile bottom nav (133 lines)
- `/src/components/layout/quick-action-button.tsx` - Quick Action button (58 lines)

### Profile Pages
- `/src/app/(dashboard)/profile/page.tsx` - Server Component (81 lines)
- `/src/app/(dashboard)/profile/profile-client.tsx` - Client Component (255 lines)

### Supporting Changes
- `/src/lib/supabase/middleware.ts` - Redirects (97 lines, added ~20 lines)
- `/src/components/transactions/create-transaction-dialog.tsx` - Children prop (1 line change)

### UI Components Used
- `@/components/ui/tabs` - Shadcn/UI Tabs (Radix UI)
- `@/components/ui/card` - Shadcn/UI Card
- `@/components/ui/button` - Shadcn/UI Button
- `@/components/ui/label` - Shadcn/UI Label

---

## Summary

This visual guide demonstrates the complete navigation restructuring implemented in Card #25. The changes create a cleaner, more intuitive navigation experience while maintaining full backward compatibility and accessibility standards.
